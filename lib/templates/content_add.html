{% extends 'containers/content.html' %}

{% block content %}
<section class="p-4 h-main w-[calc(100vw-20.85rem)] overflow-y-auto overflow-x-auto">
    
    <form
        class="grow"
        hx-post="{{base_path}}/content"
        hx-target="body"
    >
        <h1 class="mb-8">Create Table</h1>
        <h3 class="mb-4">Meta Data</h3>
        
        <div class="flex flex-col w-fit">
            <label>Table Name</label>
            <input 
                class="{% if table.errors.display_name %} form-error {% endif %}"
                type="text" name="display_name" placeholder="Give the table a name" autocomplete="off" value="{{table.display_name}}">
            
            <label class="mt-4">Table Description</label>
            <input type="text" name="description" placeholder="Describe the table [optional]" autocomplete="off" value="{{table.description}}">
        </div>
        
        <h3 class="my-4">Fields</h3>
        
        {% for field in table.fields %}
            {% include 'components/field.html' %}
        {% endfor %}
        <span id="next">
            <button
                hx-get="{{base_path}}/content/+/{{next_id}}"
                hx-target="#next"
                hx-swap="outerHTML"
            >Add Field</button>
        </span>
        
        <br>
        <input type="submit" value="Submit" class="btn btn-primary mt-4">
    </form>

</section>
{% endblock content %}